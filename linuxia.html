<!DOCTYPE html>
<html><p><!-- Tietokone 8/99 GIF" WIDTH=375 HEIGHT=43 ALIGN=TOP VSPACE=8 ALT="Linuxia merkkipohjaisesti">--> <P> <B>Linuxille on yhä parempia graafisia käyttöliittymiä ja apuohjelmia. Siitä huolimatta suuri osa käyttöjärjestelmän hallinnasta tehdään merkkipohjaisessa käyttöliittymässä komentoriviltä. Monista Linuxiin tutustuneista komentorivi saattaa tuntua oudolta ja hankalalta, mutta jo muutaman tunnin tutustumisella keskeiset komennot ja ohjelmat tulevat tutuiksi.</B> <P> Linuxin onnistuneen asennuksen jälkeen yksi komento on välttämätön jokaiselle Linuxin käyttäjälle, nimittäin "startx", jota seuraa enter-painallus komennon toteuttamiseksi. Tämä käynnistää graafisen käyttöliittymän eli X Window Systemin. Tässä vaiheessa monet miettivät, onko mahdollista käynnistää järjestelmä suoraan graafiseen tilaan ja kääntyvät opaskirjan puoleen, joka kehottaa editoimaan tiedostoa /etc/inittab ja vaihtamaan "järjestelmän oletustilan". <P><HR><IMG SRC="KUVAT/LINUX/INITTAB.GIF" WIDTH=246 HEIGHT=165 ALIGN=RIGHT HSPACE=8 VSPACE=8> <B><FONT SIZE="-1">Pico-editorilla voi muokata Linuxin asetustiedostoja, kuten tiedostoa /etc/inittab, jossa valitaan mihin tilaan järjestelmä käynnistyy. (<A HREF="KUVAT/LINUX/INITTAB_.gif">kuva</A>)</FONT></B><HR> <P> Editoinnilla opas tarkoittaa tiedoston avaamista pieneen, puhdasta ascii-tekstiä käsittelevään ohjelmaan, jota kutsutaan editoriksi. Näitä on Linuxissa useita; esimerkkinä käytetään Picoa ja annetaan komento "pico /etc/inittab". Asetustiedosto inittab aukeaa editoriin ja sitä voidaan muokata -- edellyttäen, että järjestelmään on kirjoittauduttu pääkäyttäjänä tai on annettu komento "su root", jolla voi vaihtaa pääkäyttäjäksi milloin tahansa. <P> Kuten useimmissa asetustiedostoissa, myös inittabin alussa on kuvaus tiedoston tehtävästä. #-risuaitamerkillä alkavat rivit ovat huomautusrivejä, joita järjestelmä ei toteuta. Ensimmäinen risuaidaton rivi on -- hiukan Linux-versiosta riippuen -- todennäköisesti "id:3:initdefault:". Kun numero 3 vaihdetaan numeroksi 5, järjestelmä käynnistyy jatkossa suoraan graafiseen tilaan. Jos levitysversio on muu kuin RedHat tai Best-Linux (entinen Sot-Linux), käynnistystasot on tarkistettava tiedoston alusta. <P> Samaan tapaan voidaan muokata mitä tahansa käyttöjärjestelmän asetustiedostoa, jotka sijaitsevat hakemistossa /etc. Pico tallentaa tiedoston näppäinyhdistelmällä Ctrl-X, jolloin käyttäjä pitää Control-näppäintä pohjassa ja painaa samalla x-näppäintä. Picossa liikutaan nuolinäppäimillä. <P> Asetustiedostoja muokatessa kannattaa olla huolellinen ja harkitseva -- virhe saattaa pahimmillaan estää järjestelmän käynnistymisen. <P> Graafisessa käyttöliittymässä komentorivitilaa kutsutaan terminaaliemulaattoriksi. Sellainen löytyy yleensä sovellusten käynnistysvalikosta, esimerkiksi selkeästi nimellä "Terminaaliemulaattori" tai "Xterm". <P> Linuxia ei kannata tutkia pääkäyttäjänä, jolla on oikeudet luoda tai poistaa mikä tahansa hakemisto tai tiedosto ja siten helposti rikkoa koko järjestelmä. Sen sijaan on syytä luoda tavallisia käyttäjiä, joka tehdään komennolla "useradd tunnus". "tunnus" voi olla mikä tahansa, esimerkiksi etunimeen perustuva merkkiyhdistelmä, joskin erikoisia merkkejä tulee välttää. Uuden käyttäjän salasana määritellään komennolla "passwd tunnus". <P> <B>Listaukset ja oikeudet</B> <P> Linux-käyttöjärjestelmässä ei ole Dosin ja Windowsin tapaan levyasematunnuksia. Kaikki käytettävissä olevat massamuistit näkyvät yhtenä hakemistopuuna, jonka ylintä tasoa kutsutaan "juureksi". <P> Juuren voi listata komentoriviltä kirjoittamalla "ls /", jossa ls on lyhenne sanasta list ja kauttaviiva kuvaa hakemistorakenteen päätasoa. Komentoon voidaan lisätä valitsimia, jolloin sen käyttäytyminen muuttuu -- esimerkiksi komento "ls -l /" antaa listauksen, jossa näkyy yksityiskohtaisia tietoja kustakin hakemistosta ja tiedostosta. L-kirjain tulee sanasta long. <P> Pitkä listaus kertoo tiedoston tai hakemiston käyttöoikeudet, omistajan, ryhmän, viimeisen muokkauksen ajan ja hakemiston tai tiedoston nimen. Jos rivin ensimmäinen merkki on d-kirjain, kyseessä on hakemisto. Jos merkki on mikä tahansa muu, kyseessä on yleensä tiedosto. <P> Jos hakemistolistaus on pitkä, eikä mahdu yhdelle ruudulle, sen voi pysäyttää näkymään ruutu kerrallaan muuttamalla komennon muotoon "ls -l |more". Pystyviiva tarkoittaa "putkittamista" eli komennon tulosten ohjaamista uudelle ohjelmalle, tässä tapauksessa tekstin vierityksen pysäyttävälle more-ohjelmalle. <P> Pitkässä listauksessa seuraavat merkit koostuvat r-, w- ja x-kirjaimista, jotka kuvaavat käyttöoikeuksia. Kirjaimia on yhteensä yhdeksän, kolme kolmen merkin ryhmää. Ensimmäiset kolme kertovat tiedoston omistajan oikeudet, toiset kolme ryhmän oikeudet ja viimeiset kolme järjestelmän muiden käyttäjien oikeudet. <P> Kirjain r tulee sanasta "read" ja kertoo, että joko omistaja, ryhmä tai muut käyttäjät saa lukea tiedoston eli esimerkiksi avata sen tekstieditoriin. Jos r-merkin paikalla on viiva, lukuoikeutta ei ole. Kirjain w tulee sanasta "write" ja kuvaa kirjoitusoikeutta, eli avattua tiedostoa voi muokata ja muokatun tiedoston voi tallentaa. Viimeinen merkki x eli "execute" kertoo esimerkiksi ohjelmatiedoston ajo-eli suoritusoikeudesta. <P> Hakemiston tapauksessa r kertoo, että hakemiston sisällön voi listata ja w kertoo, että hakemistoon voi luoda, kopioida tai siirtää tiedostoja tai alihakemistoja. <P> Oikeuksia muutetaan komennolla "chmod". Omistajan oikeuksia kuvataan kirjaimella u eli user, ryhmän kirjaimella g eli group ja muiden kirjaimella o eli others. Kirjaimella a eli all voidaan kohdistaa komentoja kaikkiin edellisiin. <P> Esimerkiksi komento "chmod o+r tarina.txt" antaa järjestelmän kaikille käyttäjille lukuoikeuden tiedostoon tarina.txt. Plus-merkki kuvaa oikeuksien lisäämistä. Miinus-merkki poistaa oikeuksia: "chmod u-w tarina.txt" estää tiedoston omistajaa eli yleensä sen luonutta käyttäjää muokkaamasta tiedostoa. <P> "Ryhmä" on unixien ja Linuxin tapa niputtaa käyttäjiä ja käyttöoikeuksia. Järjestelmän käyttäjäryhmät määritellään tiedostossa "/etc/group". <P> Komento "ls -a" listaa piilotiedostot. Käyttäjien kotihakemistoissa niitä on heti järjestelmän rakentamisen jälkeen useita ja monet ohjelmat luovat ensimmäisellä käyttökerralla uusia. Tiedostot sisältävät ohjelmien asetuksia, jotka yleensä määritellään sovelluksen sisällä. <P> <B>Tiedostojen käsittely</B> <P> Linuxissa tiedosto kopioidaan komennolla "cp lähde kohde". Komento "cp tarina.txt tarina.bak" kopioi txt-päätteisen tiedoston päätteelle bak. Komento "mv tarina.bak tarina.txt" taas vaihtaa tiedoston nimen. Komento "mv" tulee itse asiassa sanasta move ja tarkoittaa siirtämistä: samaa komentoa käytetään myös tiedostojen siirtämiseen tyyliin "mv vanhasijainti uusisijainti". <P> Siirtämistä voidaan testata luomalla Pico-editorilla uusi tekstitiedosto kotihakemistoon, johon siirrytään ensin komennolla "cd". Uusi tekstitiedosto luodaan komennolla "pico koe.txt", kuten edellä. Tallentamisen jälkeen tekstitiedoston sisältö voidaan varmistaa komennolla "cat koe.txt". Itse siirtämiskomento on muotoa "mv koe.txt /tmp", joka siirtää tiedoston juuressa olevaan tilapäistiedostojen hakemistoon. <P> Koetiedosto poistetaan komennolla "rm /tmp/koe.txt", joka voidaan antaa missä tahansa -- komennolle rm kerrotaan paitsi poistettavan tiedoston nimi koe.txt myös hakemisto /tmp. Vaihtoehtoisesti komento "cd /tmp" siirtyisi ensin /tmp-hakemistoon, jossa tiedosto voitaisiin poistaa komennolla "rm koe.txt". <P> Uuden hakemiston luomisessa käytetään komentoa mkdir, esimerkiksi "mkdir koehakemisto", joka luo hakemiston nimeltä koehakemisto. Hakemistoon siirrytään komennolla "cd koehakemisto" ja sieltä poistutaan esimerkiksi komennolla "cd ..", joka siirtyy hakemistorakenteessa hierarkkisesti askelman ylöspäin. "cd ../.." siirtyisi kaksi askelmaa, "cd /" siirtyisi järjestelmän juureen. <P> Hakemiston poistamisessa käytetään komentoa rmdir, kuten "rmdir koehakemisto". Komento poistaa vain tyhjiä hakemistoja. Muut hakemistot voidaan poistaa komennolla "rm -r -f hakemistonnimi", jossa valitsin r tarkoittaa rekursiivista eli myös alihakemistot ja kaikki tiedostot poistavaa käsittelytapaa. Valitsin f tulee sanasta "force", joka poistaa kaiken löytämänsä kysymättä käyttäjältä varmistuksia. Komento on voimakas ja sitä tulee käyttää varoen. <P> Komento "pwd" eli Print Which Directory kertoo missä parhaillaan ollaan. <P> <B>Linux ei ole Dos</B> <P> Linux muistuttaa Windowsia edeltänyttä merkkipohjaista Dos-käyttöjärjestelmää. Se on kuitenkin huomattavasti yksinkertaista Dosia monipuolisempi, ja eroaa siitä paitsi komentojen kieliopissa myös toiminnallisesti. <P> Selkeä ero on, että Linuxissa pieni ja iso kirjain ovat eri asia. Samassa hakemistossa voi olla tiedostot kirja.txt ja Kirja.txt. Päätteet, kuten .txt, eivät ole tarpeellisia, mutta tiedostojen tunnistamisen takia niitä kannattaa käyttää. Linuxissa on myös oma apuohjelmien help-järjestelmä -- esimerkiksi pico-editorin pienimuotoinen käyttöohje saadaan ruudulle komennolla "man pico". "man" tulee sanasta Manual. Ohjesivuja on lähes kaikista ohjelmista. <P> Linux-käyttöjärjestelmän ohjelmat sijaitsevat kansioissa /bin, /sbin, /usr/bin ja /usr/sbin. Ohjelmia voi olla muissakin kansioissa. Ohjelman sijainnin voi tarkistaa komennolla "which ohjelma" tai "whereis ohjelma", kuten "which pico", joka kertoo picon sijaitsevan kansiossa /usr/bin. <P> Hakemisto /boot sijaitsee Redhatissa ja Best Linuxissa itse asiassa eri levyosiossa kuin muu järjestelmä, mutta koska Linuxissa ei ole levyasematunnuksia, se näkyy osana yhtä hakemistopuuta. Boot-hakemisto sisältää Linuxin käynnistyksessä käytettäviä tiedostoja, kuten käyttöjärjestelmäytimen eli kernelin. <P> Hakemisto /etc sisältää asetustiedostoja sekä kansioita isojen sovellusten asetustiedostoille. Esimerkiksi hakemistossa /etc/X11 on graafisen käyttöliittymän asetustiedostoja, hakemistossa /etc/rc.d järjestelmän käynnistykseen liittyvät asetustiedostot. <P> Tiedosto /etc/fstab puolestaan sisältää käynnistettäessä automaattisesti liitettävien levyosioiden tiedot. Tiedoston ensimmäisellä rivillä määritellään juurihakemisto, jota kuvaa toisessa sarakkeessa näkyvä kauttaviiva. Levyosion tiedot ovat ensimmäisessä sarakkeessa ja levyosion tiedostojärjestelmän tyyppi (lähes aina se on ext2 eli Linuxin oma tiedostojärjestelmä) puolestaan kolmannessa. <P> Windowsin sisältävä C-levy lisättäisiin luomalla ensin esimerkiksi juureen hakemisto /dosc ja lisäämällä sitten fstab-tiedostoon uusi rivi, jossa tiedostojärjestelmän tyyppi on joko dos tai vfat. Tyyppi on dos, jos lisättävä osio on lyhyitä tiedostonimiä käyttävää vanhaa dos-tyyppiä ja vfat, jos osio on pitkiä tiedostonimiä käyttävää Windows 95/98-tyyppiä. Toiseen sarakkeeseen kirjataan /dosc ja ensimmäiseen osion laitetiedot, jotka voi tarkistaa fdisk-sovelluksella. <P> Muista hakemistoista /home sisältää käyttäjien kotihakemistot ja /lib sovellusten tarvitsemia tiedostoja. /root taas on pääkäyttäjän kotihakemisto. Hakemistossa /usr on alihakemisto doc, joka sisältää Linuxiin ja sovelluksiin liittyviä ohjetiedostoja, jos ne on asennettu. <P> Dosista poiketen Linuxissa voidaan käyttää hiukan Webin hyperlinkkejä muistuttavia linkkejä viittaamaan tiedostoon tai hakemistoon. Komennot "cd", "ln -s /usr/doc docit" peräkkäin annettuna luovat käyttäjän kotihakemistoon symbolisen linkin nimeltä "docit", joka johtaa hakemistoon "/usr/doc". Kyseessä on eräänlainen oikopolku, joka voi viitata myös tiedostoon. <P> <B>Prosessien käsittely</B> <P> Linuxissa ja unixeissa käynnissä olevaa sovellusta kutsutaan "prosessiksi". Järjestelmän kaikki käynnissä olevat prosessit voi listata komennolla "ps ax". Listauksen ensimmäisessä sarakkeessa näkyy ohjelman tunniste eli PID-numero. Keskeytyneen tai epäonnistuneen ohjelman voi sulkea komennolla "kill PID". Komentoa kannattaa käyttää vasta, kun varmasti tietää, mistä prosessista on kysymys. <P> Linuxissa monet merkkipohjaiset ohjelmat voi tilapäisesti keskeyttää näppäinyhdistelmällä "Ctrl-Z". Takaisin ohjelmaan päästään komennolla "fg". <P> Linux sammutetaan komennolla "/sbin/shutdown -h now", jossa valitsin h tulee sanasta halt ja tarkoittaa sulkemista ja "now" kertoo, että järjestelmä suljetaan heti. Kirjain r h:n tilalla käynnistäisi järjestelmän uudelleen, <P> <B>Nettiä käyttämään</B> <P> Linux kasvoi Internetin mukana ja se sisältää kymmeniä ohjelmia Internetin käyttämiseen ja tarkkailemiseen. Tärkeimpiin kuuluu telnet merkkipohjaisen pääteyhteyden avaamiseksi. Telnet on hyödyllinen vain, jos hallussa on käyttöoikeus toiseen unix/Linux-koneeseen, joka on kytketty kiinteästi Internetiin. <P> Ftp- ja ncftp-ohjelmat ovat merkkipohjaisia tiedostonsiirto-ohjelmia. Esimerkiksi komento "ncftp ftp.funet.fi" avaa Funetin suuren tiedostoarkiston. Ohjelmassa liikutaan Linuxista tutuilla komennoilla, kuten "ls" ja "cd". Tiedosto "imuroidaan" komennolla "get tiedosto". <P> Verkon toimintaan liittyvää tietoa antavat esimerkiksi nslookup, jolloin esimerkiksi komento "nslookup <A HREF="http://www.tietokone.fi"">http://www.tietokone.fi"</A> kertoo Tietokone-lehden Web-palvelimen IP-osoitteen. "traceroute <A HREF="http://www.tietokone.fi"">http://www.tietokone.fi"</A> puolestaan tutkii reitin omalta mikrolta Tietokoneen Web-palvelimelle. <P> Linuxin mukana asentuu merkkipohjaisia sähköpostiohjelmia, kuten Pine (käynnistyskomento pine). Sillä voi lähettää postia järjestelmän käyttäjien kesken, mutta ohjelman asetuksista siitä voi tehdä myös tavanomaisen pop/imap/smtp-postiohjelman. <P> Lisätietoa Linuxista löytyy muun muassa Internetistä, jota voi selata myös merkkipohjaisesti, jos Lynx-selain on asennettuna. Sen voi testata vaikkapa komennolla "lynx linuxberg.eunet.fi", joka avaa ohjeita, ohjelmia ja linkkejä sisältävän Linuxberg-palvelun. Ennen komennon käyttämistä kannattaa tutustua Lynxin ohjeisiin komennolla "man lynx". <P> Tämän jutun esimerkit perustuvat Redhatiin ja Best Linuxiin eli entiseen Sot-Linuxiin, joiden asentamista käsiteltiin Tietokoneen numerossa 6/99. Soveltaen ne pätevät myös muihin levitysversioihin <P><HR><P> <TABLE WIDTH=100%> <TR><TD COLSPAN=2><B>Linuxin päähakemistot</B></TD></TR> <TR><TD>/bin</TD><TD>Järjestelmän apuohjelmia</TD></TR> <TR><TD>/boot</TD><TD>Käyttöjärjestelmäydin ja käynnistystietoja</TD></TR> <TR><TD>/dev</TD><TD>"Laitetiedostot, kuten levykeasema ja modeemit"</TD></TR> <TR><TD>/etc</TD><TD>Järjestelmän asetustiedostoja</TD></TR> <TR><TD>/etc/X11</TD><TD>X Window Systemin asetustiedostot</TD></TR> <TR><TD>/etc/rc.d</TD><TD>Käynnistystiedostot</TD></TR> <TR><TD>/etc/sysconfig</TD><TD>"Asetustiedostoja, mm. hiiren ja näppäimistön"</TD></TR> <TR><TD>/home</TD><TD>Käyttäjien kotihakemistot ja vastaavia</TD></TR> <TR><TD>/home/ftp</TD><TD>Ftp-palvelimen juurihakemisto (jos asennettu)</TD></TR> <TR><TD>/home/httpd</TD><TD>"Web-palvelin Apachen juurihakemisto (jos asennettu, vaihtelee versioittain)"</TD></TR> <TR><TD>/lib</TD><TD>Sovellusten kirjastotiedostoja eli sovellusrutiineja</TD></TR> <TR><TD>/proc</TD><TD>Sisältää tietoja kernelin ja järjestelmän tilasta</TD></TR> <TR><TD>/root</TD><TD>Pääkäyttäjän kotihakemisto</TD></TR> <TR><TD>/sbin</TD><TD>Järjestelmän apuohjelmia</TD></TR> <TR><TD>/tmp</TD><TD>"Tilapäishakemisto, jota myös järjestelmä käyttää"</TD></TR> <TR><TD>/usr</TD><TD>Ohjelmia ja mm. niiden ohjetiedostoja</TD></TR> <TR><TD>/usr/X11R6</TD><TD>X Window System</TD></TR> <TR><TD>/usr/bin</TD><TD>Harvemmin tarvittavia järjestelmän apuohjelmia</TD></TR> <TR><TD>/usr/doc</TD><TD>"Järjestelmän dokumentaatio, mm. ohjeita"</TD></TR> <TR><TD>/usr/src</TD><TD>"Lähdetiedostoja, kuten kernelin lähdekoodi, jos asennettu"</TD></TR> <TR><TD>/var</TD><TD>Järjestelmätiedostoja</TD></TR> <TR><TD>/var/log</TD><TD>Järjestelmän lokitiedostot</TD></TR> <TR><TD>/var/spool</TD><TD>"Väliaikaistiedostoja, kuten tulostusjono ja postikansiot"</TD></TR> </TABLE><P><HR><P> <TABLE WIDTH=100%> <TR><TD>/dev/hda6</TD><TD>/ </TD><TD>ext2</TD><TD>defaults</TD><TD>1 1</TD></TR> <TR><TD>/dev/hda5</TD><TD>/boot </TD><TD>ext2</TD><TD>defaults</TD><TD>1 2</TD></TR> <TR><TD>/dev/hda7 </TD><TD>swap</TD><TD>swap</TD><TD>defaults</TD><TD>0 0</TD></TR> <TR><TD>/dev/hda1</TD><TD>/dosc </TD><TD>vfat</TD><TD COLSPAN=2>defaults,uid=500,gid=500,umask=003 1 1</TD></TR> <TR><TD>/dev/hdb1</TD><TD>/dosd</TD><TD>vfat </TD><TD COLSPAN=2>defaults,uid=500,gid=500,umask=003 1 1</TD></TR> <TR><TD>/dev/fd0</TD><TD>/mnt/floppy</TD><TD>ext2</TD><TD>user,noauto 0 0</TD></TR> <TR><TD>/dev/fd0</TD><TD>/mnt/a:</TD><TD>vfat</TD><TD> user,noauto 0 0</TD></TR> <TR><TD>/dev/cdrom</TD><TD>/mnt/cdrom </TD><TD>iso9660 </TD><TD>user,noauto, ro</TD><TD>0 0</TD></TR> <TR><TD>none </TD><TD>/proc</TD><TD> proc</TD><TD>defaults</TD><TD>0 0</TD></TR> <TR><TD>none </TD><TD>/dev/pts</TD><TD>devpts</TD><TD>mode=0622</TD><TD>0 0</TD></TR> </TABLE> <P> <B>Linuxin tiedostossa /etc/fstab määritellään käynnistettäessä liitettävät tiedostojärjestelmät. Esimerkin neljäs rivi liittää osion /dev/hda1 hakemistoksi /dosc, jonka tyyppi on vfat (Win95/98) ja kaikilla käyttäjillä on kotitietokoneeseen sopivasti luku- ja kirjoitusoikeudet kaikkiin tiedostoihin.</B> </p></html>